-- Template Updates
-- Jin'do the Godbreaker
UPDATE `creature_template` SET `DamageModifier`= 120, `BaseVariance`= 0.5, `mechanic_immune_mask`= 650854271, `flags_extra`= 1, `mingold`= 25000, `maxgold`= 30000 WHERE `entry`= 52148;
-- Twisted Shadow
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry`= 52608;
-- Shadow of Hakkar
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry`= 52650;
-- Jin'do the Godbreaker (Spirit World)
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry`= 52150;
-- Gurubashi Spirit Warrior
UPDATE `creature_template` SET `ScriptName`= 'npc_jindo_gurubashi_spirit_warrior', `DamageModifier`= 90, `BaseVariance`= 0.5, `flags_extra`= 1073741824 WHERE `entry`= 52167;
-- Gurubashi Spirit
UPDATE `creature_template` SET `ScriptName`= 'npc_jindo_gurubashi_spirit_warrior', `DamageModifier`= 90, `BaseVariance`= 0.5, `flags_extra`= 1073741824 WHERE `entry`= 52730;
-- Gurubashi Shadow
UPDATE `creature_template` SET `flags_extra`= 2 WHERE `entry`= 52732;
-- Broken Ground
UPDATE `creature_template` SET `unit_flags`= 33554432, `unit_flags2`= 37750784, `flags_extra`= 2 WHERE `entry`= 52407;
-- Sundered Rift
UPDATE `creature_template` SET `unit_flags`= 33554432, `flags_extra`= 130 WHERE `entry`= 52400;
-- Hakkar's Chains
UPDATE `creature_template` SET `flags_extra`= 2 | 128 | 256 | 1073741824, `mechanic_immune_mask`= 650854271 WHERE `entry`= 52430;
-- Twisted Spirit
UPDATE `creature_template` SET `DamageModifier`= 50, `BaseVariance`= 0.5 WHERE `entry`= 52624;

-- Delete encounter related creatures
DELETE FROM `creature` WHERE `guid` IN (295236, 295280, 295234, 295187, 295193, 295202, 295221, 295222, 295255, 295258, 295264, 295229, 295257, 295279, 295292, 295326, 295247, 295248, 295249, 295185, 295186, 295188, 295189, 295190, 295191, 295194, 295195, 295196, 295197, 295198, 295199, 295200, 295201, 295203, 295204, 295205, 295206, 295207, 295208, 295209, 295210, 295211, 295212, 295213, 295214, 295215, 295216, 295217, 295218, 295219, 295220, 295224, 295226, 295227, 295228, 295230, 295231, 295232, 295235, 295237, 295242, 295245, 294875, 294876, 295256, 295259, 295261, 295262, 295263, 295265, 295266, 295267, 295268, 295269, 295270, 295271, 295272, 295273, 295274, 295275, 295276, 295277, 295278, 295281, 295282, 295283, 295284, 295285, 295286, 295287, 295288, 295289, 295290, 295291, 295293, 295294, 295299, 295300, 295301, 295302, 295303, 295304, 295305, 295306, 295307, 295308, 295309, 295310, 295311, 295312, 295313, 295314, 295315, 295316, 295318, 295319, 295320, 295321, 295322, 295323, 295324, 295325, 295327, 295328, 295329, 295330, 295331, 295223, 295225, 295233, 295238, 295239, 295240, 295241, 295243, 295244, 295246, 295250, 295251, 295252, 295253, 295254);
DELETE FROM `creature_addon` WHERE `guid` IN (295236, 295280, 295234, 295187, 295193, 295202, 295221, 295222, 295255, 295258, 295264, 295229, 295257, 295279, 295292, 295326, 295247, 295248, 295249, 295185, 295186, 295188, 295189, 295190, 295191, 295194, 295195, 295196, 295197, 295198, 295199, 295200, 295201, 295203, 295204, 295205, 295206, 295207, 295208, 295209, 295210, 295211, 295212, 295213, 295214, 295215, 295216, 295217, 295218, 295219, 295220, 295224, 295226, 295227, 295228, 295230, 295231, 295232, 295235, 295237, 295242, 295245, 294875, 294876, 295256, 295259, 295261, 295262, 295263, 295265, 295266, 295267, 295268, 295269, 295270, 295271, 295272, 295273, 295274, 295275, 295276, 295277, 295278, 295281, 295282, 295283, 295284, 295285, 295286, 295287, 295288, 295289, 295290, 295291, 295293, 295294, 295299, 295300, 295301, 295302, 295303, 295304, 295305, 295306, 295307, 295308, 295309, 295310, 295311, 295312, 295313, 295314, 295315, 295316, 295318, 295319, 295320, 295321, 295322, 295323, 295324, 295325, 295327, 295328, 295329, 295330, 295331, 295223, 295225, 295233, 295238, 295239, 295240, 295241, 295243, 295244, 295246, 295250, 295251, 295252, 295253, 295254);

-- Conditions
DELETE FROM `conditions` WHERE `SourceEntry` IN (97321, 97022, 97152) AND `SourceTypeOrReferenceId`= 13;
INSERT INTO `conditions` (`SourceTypeOrReferenceId`, `SourceGroup`, `SourceEntry`, `SourceId`, `ElseGroup`, `ConditionTypeOrReference`, `ConditionTarget`, `ConditionValue1`, `ConditionValue2`, `ConditionValue3`, `NegativeCondition`, `ErrorType`, `ScriptName`, `Comment`) VALUES
(13, 1, 97321, 0, 0, 31, 0, 3, 52650, 0, 0, 0, '', 'Drain Spirit Essence - Target Shadow of Hakkar'),
(13, 1, 97022, 0, 0, 31, 0, 3, 52222, 0, 0, 0, '', 'Hakkar''s Chains - Target Spirit of Hakkar'),
(13, 1, 97152, 0, 0, 31, 0, 3, 52532, 0, 0, 0, '', 'Call Spirit - Target Spirit Portal');

-- Spells
DELETE FROM `spell_script_names` WHERE `ScriptName` IN
('spell_jindo_shadow_spike',
'spell_jindo_call_spirit',
'spell_jindo_spirit_warriors_gaze',
'spell_jindo_body_slam');

INSERT INTO `spell_script_names` (`spell_id`, `ScriptName`) VALUES
(97158, 'spell_jindo_shadow_spike'),
(97152, 'spell_jindo_call_spirit'),
(97597, 'spell_jindo_spirit_warriors_gaze'),
(97252, 'spell_jindo_body_slam');

-- Template Addon
UPDATE `creature_template_addon` SET `auras`= '82978' WHERE `entry`= 52148;
UPDATE `creature_template_addon` SET `auras`= '28126 18950' WHERE `entry`= 52730;
DELETE FROM `creature_template_addon` WHERE `entry` IN (52430, 52624, 52400, 52407);
INSERT INTO `creature_template_addon` (`entry`, `bytes2`, `auras`) VALUES
(52624, 1, '97285'),
(52400, 1, '96970 97031'),
(52407, 1, '96974');

-- Texts
DELETE FROM `creature_text` WHERE `CreatureID` IN (52148, 52222, 52650);
INSERT INTO `creature_text` (`CreatureID`, `GroupID`, `ID`, `Text`, `Type`, `Language`, `Probability`, `Emote`, `Duration`, `Sound`, `BroadcastTextId`, `TextRange`, `comment`) VALUES
-- Jin'do the Godbreaker
(52148, 0, 0, 'Meddlesome insects! Now you will feel my wrath!', 14, 0, 100, 0, 0, 24268, 51973, 3, 'Jin\'do the Godbreaker - Intro'),
(52148, 1, 0, 'Welcome to de great show, friends. Just wait \'til ya see what I got in store for ya.', 14, 0, 100, 0, 0, 24254, 50923, 0, 'Jin\'do the Godbreaker - Aggro'),
(52148, 2, 0, 'Jin\'do charges his weapon with the Shadows of Hakkar!', 41, 0, 100, 0, 0, 0, 52592, 0, 'Jin\'do the Godbreaker - Announce Shadows of Hakkar'),
(52148, 3, 0, 'Now, have a taste of Jin\'do\'s true powah!', 14, 0, 100, 0, 0, 24267, 50974, 0, 'Jin\'do the Godbreaker - Phase 2 Intro'),
-- Spirit of Hakkar
(52222, 0, 0, 'Your deceit is unforgivable, Jin\'do. You spit in the face of a god!', 14, 0, 100, 0, 0, 24246, 51976, 0, 'Spirit of Hakkar to Jin\'do the Godbreaker'),
(52222, 1, 0, 'You overstepped your bounds, Jin\'do. You toy with powers that are beyond you. Have you forgotten who I am? Have you forgotten what I can do?!', 14, 0, 100, 0, 0, 24244, 51313, 0, 'Spirit of Hakkar to Jin\'do the Godbreaker'),
-- Shadow of Hakkar
(52650, 0, 0, 'Be freed, insects. I will deal with you another time.', 14, 0, 100, 0, 0, 24243, 51975, 0, 'Shadow of Hakkar to Jin\'do the Godbreaker');

-- Summon Groups
DELETE FROM `creature_summon_groups` WHERE `summonerId`= 52148 AND `summonerType`= 0;
DELETE FROM `creature_summon_groups` WHERE `summonerId`= 859 AND `summonerType`= 2;
INSERT INTO `creature_summon_groups` (`summonerId`, `summonerType`, `groupId`, `entry`, `position_x`, `position_y`, `position_z`, `orientation`, `summonType`, `summonTime`) VALUES
-- Hakkar's Chains 1
(859, 2, 0, 52430, -11796.3,  -1659.99,  53.09364, 0.0, 8, 0),
(859, 2, 0, 52430, -11761.55, -1649.866, 52.96572, 0.0, 8, 0),
(859, 2, 0, 52430, -11772.65, -1676.898, 53.04771, 0.0, 8, 0),
-- Hakkar's Chains 2
(859, 2, 1, 52430, -11801.4, -1678.39, 53.0471, 0.0, 8, 0),
(859, 2, 1, 52430, -11778.6, -1659.42, 53.0633, 0.0, 8, 0),
(859, 2, 1, 52430, -11814.6, -1652.12, 52.9663, 0.0, 8, 0),
-- Hakkar's Chains 3
(859, 2, 2, 52430, -11814.56,  -1652.12, 52.96632, 0.0, 8, 0),
(859, 2, 2, 52430, -11778.6, -1659.418, 53.06332, 0.0, 8, 0),
(859, 2, 2, 52430, -11801.36, -1678.391, 53.04712, 0.0, 8, 0),
-- Twisted Shadow
(859, 2, 3, 52608, -11845.7, -1678.26, 21.1831, 3.58074, 8, 0),
(859, 2, 3, 52608, -11857, -1669.05, 21.2665, 0, 8, 0),
(859, 2, 3, 52608, -11849, -1651.74, 21.1831, 5.37252, 8, 0),
(859, 2, 3, 52608, -11820.4, -1713.58, 21.1831, 0.165653, 8, 0),
(859, 2, 3, 52608, -11802.3, -1706.63, 21.1831, 1.20377, 8, 0),
(859, 2, 3, 52608, -11752, -1711.48, 21.1831, 2.93584, 8, 0),
(859, 2, 3, 52608, -11781.2, -1711.86, 21.1831, 0.384528, 8, 0),
(859, 2, 3, 52608, -11726, -1666.29, 21.1831, 5.36446, 8, 0),
(859, 2, 3, 52608, -11726.4, -1625.67, 21.1831, 5.52238, 8, 0),
(859, 2, 3, 52608, -11721, -1678.18, 21.1831, 5.29842, 8, 0),
(859, 2, 3, 52608, -11720.5, -1641.88, 21.1831, 2.93937, 8, 0),
(859, 2, 3, 52608, -11857.6, -1626.26, 21.1831, 1.84395, 8, 0),
(859, 2, 3, 52608, -11769.4, -1702.97, 21.1831, 0.591874, 8, 0),
(859, 2, 3, 52608, -11799.9, -1659.51, 21.2043, 0.838192, 8, 0),
(859, 2, 3, 52608, -11789.8, -1661.35, 21.2045, 5.85059, 8, 0),
(859, 2, 3, 52608, -11792.7, -1645.76, 21.2046, 5.30852, 8, 0),
(859, 2, 3, 52608, -11779.5, -1650.61, 21.2044, 1.00892, 8, 0),
(859, 2, 3, 52608, -11739.4, -1670.92, 37.0472, 5.97368, 8, 0),
(859, 2, 3, 52608, -11740.4, -1644.34, 33.7884, 3.63651, 8, 0),
(859, 2, 3, 52608, -11835.2, -1669.71, 37.0533, 0.92486, 8, 0),
(859, 2, 3, 52608, -11838.2, -1645.56, 33.7873, 1.8155, 8, 0),
(859, 2, 3, 52608, -11782.1, -1633.95, 21.2041, 4.63055, 8, 0),
(859, 2, 3, 52608, -11738.2, -1618.65, 37.0559, 0.528621, 8, 0),
(859, 2, 3, 52608, -11836, -1622.69, 37.0519, 0.304632, 8, 0),
(859, 2, 3, 52608, -11849.3, -1611.82, 21.1831, 5.43469, 8, 0),
(859, 2, 3, 52608, -11795.2, -1630.4, 21.2046, 1.98112, 8, 0),
(859, 2, 3, 52608, -11766.3, -1597.81, 37.0503, 1.69794, 8, 0),
(859, 2, 3, 52608, -11780, -1597.55, 37.0499, 0.291572, 8, 0),
(859, 2, 3, 52608, -11834.4, -1550.62, 24.484, 0.862767, 8, 0),
(859, 2, 3, 52608, -11825.5, -1588.16, 21.1831, 2.4916, 8, 0),
(859, 2, 3, 52608, -11809.9, -1588.78, 21.1407, 3.62663, 8, 0),
(859, 2, 3, 52608, -11820.4, -1579.83, 21.2296, 3.53091, 8, 0),
(859, 2, 3, 52608, -11811, -1600.98, 37.0453, 1.16032, 8, 0),
(859, 2, 3, 52608, -11795.8, -1602.43, 37.0422, 0.886936, 8, 0),
(859, 2, 3, 52608, -11822, -1553.33, 21.7257, 1.92354, 8, 0),
(859, 2, 3, 52608, -11826.7, -1537.87, 17.5741, 5.67323, 8, 0),
(859, 2, 3, 52608, -11795.5, -1541.63, 19.4092, 1.83568, 8, 0),
(859, 2, 3, 52608, -11791, -1519.15, 22.6017, 2.54946, 8, 0),
(859, 2, 3, 52608, -11818, -1538.78, 19.1144, 0.271051, 8, 0),
(859, 2, 3, 52608, -11807, -1527.55, 20.0268, 1.75331, 8, 0),
(859, 2, 3, 52608, -11818.8, -1518.76, 21.762, 2.58976, 8, 0),
(859, 2, 3, 52608, -11805.9, -1554.2, 20.3511, 4.50184, 8, 0),
(859, 2, 3, 52608, -11776.6, -1586.95, 21.0879, 3.51236, 8, 0),
(859, 2, 3, 52608, -11760.8, -1585.81, 21.1597, 3.63262, 8, 0),
(859, 2, 3, 52608, -11804.5, -1579, 21.1389, 0.139431, 8, 0),
(859, 2, 3, 52608, -11780.3, -1555.29, 19.3579, 0.256345, 8, 0),
(859, 2, 3, 52608, -11822.7, -1502.29, 17.3402, 3.01229, 8, 0),
(859, 2, 3, 52608, -11782.8, -1470.84, 46.2927, 4.25281, 8, 0),
(859, 2, 3, 52608, -11809.3, -1484.69, 24.492, 3.46372, 8, 0),
(859, 2, 3, 52608, -11783.3, -1486.39, 33.7563, 1.19053, 8, 0),
(859, 2, 3, 52608, -11796.8, -1469.39, 35.1932, 0.349331, 8, 0),
(859, 2, 3, 52608, -11792.7, -1501.6, 26.1707, 1.31171, 8, 0),
(859, 2, 3, 52608, -11768.1, -1576.42, 21.1704, 5.88011, 8, 0),
(859, 2, 3, 52608, -11776.7, -1541.73, 19.4034, 0.579374, 8, 0),
(859, 2, 3, 52608, -11720.8, -1607.67, 21.1831, 1.63693, 8, 0),
(859, 2, 3, 52608, -11755.2, -1575.18, 21.1269, 6.19863, 8, 0),
(859, 2, 3, 52608, -11776, -1523.6, 23.5889, 5.38827, 8, 0),
(859, 2, 3, 52608, -11776, -1515.19, 25.7151, 1.00112, 8, 0),
(859, 2, 3, 52608, -11761.8, -1554.45, 16.5326, 1.41773, 8, 0),
(859, 2, 3, 52608, -11770.7, -1495.72, 32.7301, 1.97067, 8, 0),
(859, 2, 3, 52608, -11760.3, -1537.88, 16.7098, 3.15848, 8, 0),
(859, 2, 3, 52608, -11758, -1510.94, 37.475, 2.36465, 8, 0),
(859, 2, 3, 52608, -11748.1, -1470.4, 39.6819, 2.07261, 8, 0),
(859, 2, 3, 52608, -11752.6, -1502.86, 38.701, 1.4481, 8, 0),
(859, 2, 3, 52608, -11735.1, -1471.47, 37.2874, 2.14875, 8, 0),
-- Spirit Portal
(859, 2, 4, 52532, -11750, -1631.24, 52.8949, 0, 8, 0),
(859, 2, 4, 52532, -11827.6, -1634.12, 52.9348, 0, 8, 0),
(859, 2, 4, 52532, -11805.7, -1664.72, 53.0641, 0, 8, 0),
(859, 2, 4, 52532, -11756.9, -1680.79, 53.0772, 0, 8, 0),
(859, 2, 4, 52532, -11752.4, -1645.15, 52.8756, 0, 8, 0),
(859, 2, 4, 52532, -11764.7, -1636.48, 52.9897, 0, 8, 0),
(859, 2, 4, 52532, -11751.9, -1662.83, 53.0806, 0, 8, 0),
(859, 2, 4, 52532, -11817, -1682.87, 53.0777, 0, 8, 0),
(859, 2, 4, 52532, -11823.6, -1647.46, 52.8773, 0, 8, 0),
(859, 2, 4, 52532, -11823.3, -1665.2, 53.0806, 0, 8, 0),
(859, 2, 4, 52532, -11788.6, -1628.26, 54.8602, 0, 8, 0),
(859, 2, 4, 52532, -11769.5, -1663.59, 53.0644, 0, 8, 0),
(859, 2, 4, 52532, -11782.1, -1646.38, 54.5637, 0, 8, 0),
(859, 2, 4, 52532, -11793.9, -1646.39, 54.6289, 0, 8, 0),
(859, 2, 4, 52532, -11811.9, -1637.99, 52.9957, 0, 8, 0);

-- Loot
DELETE FROM `creature_onkill_reward` WHERE `creature_id`= 52148;
INSERT INTO `creature_onkill_reward` (`creature_id`, `RewOnKillRepFaction1`, `MaxStanding1`, `RewOnKillRepValue1`, `CurrencyId1`, `CurrencyCount1`) VALUES
(52148, 1162, 7, 250, 395, 7000);

-- Loot
UPDATE `creature_template` SET `lootid`= 52148 WHERE `entry`= 52148;
DELETE FROM `creature_loot_template` WHERE `entry`= 52148;
INSERT INTO `creature_loot_template` (`Entry`, `Item`, `Reference`, `Chance`, `LootMode`, `GroupId`, `MinCount`, `MaxCount`) VALUES
(52148, 52078, 0, 100, 1, 1, 1, 1),
(52148, 0, 521480, 100, 1, 0, 2, 2);

DELETE FROM `reference_loot_template` WHERE `entry`= 521480;
INSERT INTO `reference_loot_template` (`Entry`, `Item`, `Chance`, `LootMode`, `GroupId`, `MinCount`, `MaxCount`) VALUES
(521480, 69624, 0, 1, 1, 1, 1),
(521480, 69621, 0, 1, 1, 1, 1),
(521480, 69626, 0, 1, 1, 1, 1),
(521480, 69620, 0, 1, 1, 1, 1),
(521480, 69629, 0, 1, 1, 1, 1),
(521480, 69625, 0, 1, 1, 1, 1),
(521480, 69627, 0, 1, 1, 1, 1),
(521480, 69623, 0, 1, 1, 1, 1),
(521480, 69622, 0, 1, 1, 1, 1),
(521480, 69628, 0, 1, 1, 1, 1);
